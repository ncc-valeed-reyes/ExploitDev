## ForLoopNoRet.c

### Source Code:

```c
#include <stdio.h>

int main() {
    int i;
    for (int i = 0; i < 10; i++) {
        printf("i = %d\n", i);
    }
    i--;
}
```

### Disassembly:

#### Frame 1: ForLoopNoRet.exe!func(...)
```assembly
sub rsp, 38h
mov dword ptr [rsp+20h], 0
jmp 0000000140001018
mov eax, dword ptr [rsp+20h]
inc eax
mov dword ptr [rsp+20h], eax
cmp dword ptr [rsp+20h], 0Ah
jge 0000000140001031
mov edx, dword ptr [rsp+20h]
lea rcx, [0000000140006000h]
jmp 000000014000100E
mov eax,dword ptr [rsp+20h]
dec eax
mov dword ptr [rsp+20h],eax
xor eax,eax
add rsp,38h
ret
```

## Analyzing the stack


|Address|Value|
|-------------|-------------|
|0x000000000014FE08|0000000140001429  -> RETURN ADDRESS to `IfExample.exe!invoke_main(void)`|
|0x000000000014FE00|c2da2203178bfbff|
|0x000000000014FDF8|3000040000000000|
|0x000000000014FDF0|00842509000000`09`|

### Frame 1: ForLoopNoRet.exe!main(...)

`sub rsp, 38h`
 - Subracts `rsp` by 38
 - 000000000014FE08 - 38
 - Address of `rsp`: 000000000014FDD0

`mov dword ptr [rsp+20h], 0`
 - Moves 0 to `rsp` register with an offset of 20
 - Address of `rsp`: 000000000014FDF0
 - Value of `rsp` (4 bytes): 00000000

`jmp 0000000140001018`
 - Jumps to the current address -> `cmp dword ptr [rsp+20h], 0Ah`

`mov eax, dword ptr [rsp+20h]`
 - Moves the `rsp` value into `rax` register
 - Address of `rsp`: 000000000014FDF0
 - Value of `rsp`: 0084250900000000
 - Value of `rax`: 0084250900000000

`inc eax`
 - Increments `eax` value by 1

`mov dword ptr [rsp+20h], eax`
 - Moves the `rsp` value into `rax` register
 - Address of `rsp`: 000000000014FDF0
 - Value of `rsp`: 0084250900000000
 - Value of `rax`: 0000000000C0FFEE
  
`cmp dword ptr [rsp+20h], 0Ah`
 - Compares 0a which represents as 10 in decimal to 0 from `rsp`

`jge 0000000140001031`
  - Jump If Greater Than or Equal to 0000000140001043
  - If 0 >= 10 = Jump is not taken (False)
  - `efl`: 00010297

`mov edx, dword ptr [rsp+20h]`
 - Moves `rsp` value into `edx` register
 - Address of `rsp`: 000000000014FDF0
 - Value of `rsp`: 0084250900000000
 - New Value of `rdx`: 0000000000000000

`lea rcx, [0000000140006000h]`
 - Pass the value into `rcx` register

`call 00000001400010B0`
 - Calls `printf` function

`jmp 000000014000100E`
 - Jumps to the current address -> `mov eax, dword ptr [rsp+20h]`

`mov eax, dword ptr [rsp+20h]`
 - Moves the `rsp` value with an offset of 20 into `rax` register
 - Address of `rsp`: 000000000014FDF0
 - Value of `rsp`: 000007EA707A11ED
 - Value of `rax`: 0084250900000010

`dec eax`
 - Decrements `eax` value by 1
 - Value of `rax`: 0084250900000010
 - New Value of `rax`: 0084250900000009

`mov dword ptr [rsp+20h], eax`
 - Moves `rax` value into `rsp` register with an offset of 8
 - Address of `rsp`: 000000000014FDF0
 - New Value of `rsp`: 0084250900000009

`xor eax, eax`
 - Zeros out the `rax` register

`add rsp, 38`
 - `rsp`: 000000000014FDF0 + 38 = 000000000014FE08

 `ret`
  - Returns and continues the statement at `ForLoopNoRet.exe!invoke_main(void)`
  - `rsp`: 000000000014FE08 + 8 = 000000000014FE10
<hr>

## Notes to keep in mind

### `xor eax, eax`
 - Adds `return 0;` at the end of the progrma