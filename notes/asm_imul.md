## IMUL Example 1 (Single Operand)


|Instruction|Formula|
|-------------|-------------|
|IMUL r/m8|AX = AL * r/m8|

### Registers Before

|Register|Value|
|-------------|-------------|
|r12|0x84|
|rax|0x609966C1A977E1**77**|

### `imul r12b`
- Take the least significant byte which would be 77 and 84
- This is signed multiply, which we need to flip to 2's complement the value `r12`. That would be FFFFFFFFFFFFFF7C in this case
- All we need to get from this is the AL which would be the last 2 bytes of the value (7C)
- Multiply 7C and 77 = 39A4
- Turn 0x39A4 into 2's complement to flip it back to negative. That would be FFFFFFFFFFFFC65C
- AX is just gonna be 16 bits which it would replace only the last four bytes of `rax`

### Registers After

|Register|Value|
|-------------|-------------|
|r12|0x84|
|rax|0x609966C1A977**C65C**|


## IMUL Example 2 (Two Operand)

|Instruction|Formula|
|-------------|-------------|
|IMUL r/m32|r32 = r32 * r/m32|

### Registers Before

|Register|Value|
|-------------|-------------|
|r12|0x84|
|rax|0x609966C1**A977E177**|

### `imul r12d, eax`
- In 32 bit version of r12, 84 would be no longer interpreted as a negative value because it's not a 1 byte form but a 4 byte form. In 4 byte form, 84 have 0 as the Most Significant Bit (MSB). Hence, it's a positive value
- Then `rax` taking `eax` 32 bit value size would be a signed value since the MSB is 1 which is why we need to convert this into 2's complement
- Multiply 84 and 56881E89 = 2C9E2FBEA4
- Flip this back to 2's complement and we got = FFFFFFD361D0415C
- Since we are multiplying two operands, the r12 will be the replaced with 61D0415C this time

### Registers After

|Register|Value|
|-------------|-------------|
|r12|0x00000000**61D0415C**|
|rax|0x609966C1A977E177|

## IMUL Example 3 (Two Operand)

### `imul r12, rax, -12341234h`

|Instruction|Formula|
|-------------|-------------|
|IMUL r/m64, r/m64, imm32|r64 = rm64 * sign-extended imm32|

### Registers Before

|Register|Value|
|-------------|-------------|
|r12|0x84|
|rax|**0x609966C1A977E177**|

### Registers After

|Register|Value|
|-------------|-------------|
|r12|**0xE5A3577504602A2C**|
|rax|0x609966C1A977E177|


### Notes to keep in mind

`imul r12b`
- word = 2 bytes

`imul r12d`
- dword = 4 bytes

`imul r12`
- qword = 8 bytes 

A signed value (negative) should be flipped around by 2's complement when performing an operation.

[Signed / Unsigned Integers](https://www.youtube.com/watch?v=0x62o7WNN8w)

[MSB / LSB](https://www.youtube.com/watch?v=KReHvV2SQj0)

[Two's Compliment (4-bit)](https://www.youtube.com/watch?v=_Zk3dMYrdrQ)
  - E.g:
    1. 1001 = -7
    2. 0011 = +3
    3. 1100 = -4
    4. 1111 = -1