## IfExample.c

### Source Code:

```c
int main() {
    int a = -1, b = 2;
    if (a == b){
        return 1;
    }
    if (a > b) {
        return 2;
    }
    if (a < b) {
        return 3;
    }
    return 0xdefea7;
}
```

### Disassembly:

#### Frame 1: IfExample.exe!func(...)
```assembly
sub rsp, 18h
mov dword ptr [rsp+4], 0FFFFFFFFh
mov dword ptr [rsp], 2
mov eax, dword ptr [rsp]
cmp dword ptr [rsp+4], eax
jne 0000000140001023
mov eax, 1
jmp 0000000140001048
mov eax, dword ptr [rsp]
cmp dword ptr [rsp+4], eax
jle 0000000140001033
mov eax, 2
jmp 0000000140001048
mov eax, dword ptr [rsp]
cmp dword ptr [rsp+4], eax
jge 0000000140001043
mov eax, 3
jmp 0000000140001048
mov eax, 0DEFEA7h
add rsp, 18h
ret
```

## Analyzing the stack

|Address|Value|
|-------------|-------------|
|0x000000000014FE08|0000000140001369 -> RETURN ADDRESS to `IfExample.exe!invoke_main(void)`|
|0x000000000014FE00|16-byte-stack-alignment-padding|
|0x000000000014FDF8|undef|
|0x000000000014FDF0|FFFFFFFF00000002|

## Breaking down each statements

### Frame 1: IfExample.exe!main(...)

`sub rsp, 18h`
 - Subracts `rsp` by 18
 - 000000000014FE08 - 18
 - Address of `rsp`: 000000000014FDF0
 - Value of `rsp`: 0084250900000000

`mov dword ptr [rsp+4], 0FFFFFFFFh`
  - Moves the 0FFFFFFFFh to `rsp` register
  - Address of `rsp` (4 bytes): 000000000014FDF4
  - Value of `rsp` (4 bytes): FFFFFFFF

`mov dword ptr [rsp], 2`
  - Moves 2 to `rsp` register
  - Address of `rsp` (4 bytes): 000000000014FDF0
  - Value of `esp` (4 bytes): 00000002

`mov eax, dword ptr [rsp]`
  - Moves 00000002 into `rax` register

`cmp dword ptr [rsp+4], eax`
  - Compares FFFFFFFF with 00000002

`jne 0000000140001023`
  - Jump If Not Equal to 0000000140001023
  - If FFFFFFFF != 00000002 = Jump is taken (True)
  - `efl`: 00010282

<hr>

*skipped*

`mov eax, 1`
 - Moves 1 into `rax` register

`jmp 0000000140001048`
 - Jumps to `0000000140001048`

<hr>

`mov eax, dword ptr [rsp]`
 - Moves 00000002 into `rax` register

`cmp dword ptr [rsp+4], eax`
  - Compares FFFFFFFF with 00000002

`jle 0000000140001033`
  - Jump If Less Than to 0000000140001033
  - If FFFFFFFF <= 00000002 = Jump is taken (True)
  - `efl`: 00010282

<hr>

*skipped*

`mov eax, 2`
 - Moves 2 into `rax` register

`jmp 0000000140001048`
 - Jumps to `0000000140001048`

<hr>

`mov eax, dword ptr [rsp]`
 - Moves 00000002 into `rax` register
 
`cmp dword ptr [rsp+4], eax`
  - Compares FFFFFFFF with 00000002

`jge 0000000140001043`
  - Jump If Greater Than to 0000000140001043
  - If FFFFFFFF >= 00000002 = Jump is taken (False)
  - `efl`: 00010282

`mov eax, 3`
 - Moves 3 into `rax` register

`jmp 0000000140001048`
 - Jumps to `0000000140001048`

<hr>

*skipped*

`mov eax, 0DEFEA7h`
 - Moves DEFEA7 into `rax` register

<hr>

`add rsp, 18h`
 - `rsp`: 000000000014FDF0 + 18 = 000000000014FE08

 `ret`
  - Returns and continues the statement at `IfExample.exe!invoke_main(void)`
  - `rsp`: 000000000014FE08 + 8 = 000000000014FE10
<hr>