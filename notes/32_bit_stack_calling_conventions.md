# 32-bit Stack Calling Conventions

In 32-bit code, there are many more calling conventions in use

 - **"cdeclaration"** or "cdecl" (default for C code)
   - Caller cleans up the stack
 - **"standardcall"** or "stdcall" (for Windows' Win32 API)
   - Callee cleans up the stack

 - Function parameters are pushed onto stack from right to left
   - **Leftmost parameter** ends up at the lowest address

 - **Function parameters** tend to get referenced as "ebp+offset"

 - **Local parameters** tend to get referenced as "ebp-offset" (although gcc sometimes references as esp+offset)

<hr>

# 32-bit Maximum Stack Diagram

|Stack Diagram|
|-------------|
|**Stack Bottom**|
|**Main Frame**|
|Saved ebp|
|local variables (if any)|
|Callee-saved regs (if any)|
|Function arguments (if any)|
|return address foo() to main()|
|**Foo Frame**|
|Saved ebp|
|local variables (if any)|
|Callee-saved regs (if any)|
|Function arguments (if any)|
|return address bar() to foo()|
|**Bar Frame**|
|Saved ebp|
|local variables (if any)|
|Callee-saved regs (if any)|
|**Stack Top**|

Function arguments @ [ebp+...]

Local Variables arguments @ [ebp-...] (or [esp+...])

<hr>

# References

Microsoft cdecl calling convention documentation: https://docs.microsoft.com/en-us/cpp/cpp/cdecl?view=msvc-160

Microsoft stdcall calling convention documentation: https://docs.microsoft.com/en-us/cpp/cpp/stdcall?view=msvc-160