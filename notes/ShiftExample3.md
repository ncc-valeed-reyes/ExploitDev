## ShiftExample3.c

### Source Code:

```c
#include <stdlib.h>

// Supplied argument: 4294967295 -> 0xFFFFFFFF

int main(int argc, char** argv) {
  int a, b, c;
  a = atoi(argv[1]);
  b = a * 8;
  c = b / 16;
  return c;
}
```

### Disassembly:

#### Frame 1: ShiftExample3.exe!func(...)
```assembly
sub rsp, 28h
mov rcx, qword ptr [rdx+8]
call qword ptr [__imp_atoi (0140004178h)]
shl eax, 3
cdq
and edx, 0Fh
add eax, edx
sar eax, 4
add rsp, 28h
ret
```

## Breaking down each statements

### Frame 1: ShiftExample3.exe!main(...)

`sub rsp, 28h`
 - Subracts `rsp` by 18
 - 000000000014FDF8 - 18
 - Address of `rsp`: 000000000014FDE0

`mov rcx, qword ptr [rdx+8]`
 - Moves `rdx` value register with an offset of 8 into `rcx` register
 - Address of `rdx+8`: 00000000005604C8
 - Value of `rdx+8`: 00000000006c9e6a

`call qword ptr [__imp_atoi (0140004178h)]`
 - Calls atoi library function
 - Value of `rax`: 000000007FFFFFFF

`shl eax, 3`
 - Shifts left eax by 3
 - 7FFFFFFF << 3 = FFFFFFFF8
 - New value of `rax`: 00000000FFFFFFFF8

`cdq`
 - Moves 00000000FFFFFFFF into `rdx` register

`and edx, 0Fh`
 - Performs bitwise AND for `edx` and the value
 - 0F & FFFFFFFF = 0000000F
 - Value of `edx`: 0000000F

`add eax, edx`
 - F + FFFFFFFF8 = 1000000007
 - New value of `rax`: 00000000000000007

`sar eax, 4`
 - Performs shift arithmetic right to eax by 4
 - 00000007 >> 4 = 0
 - New value of `rax`: 0000000000000000

`add rsp, 28h`
 - `rsp`: 000000000014FDE0 + 18 = 000000000014FDF8

 `ret`
  - Returns and continues the statement at `ShiftExample3.exe!invoke_main(void)`
  - `rsp`: 000000000014FDF8 + 8 = 000000000014FE00
<hr>